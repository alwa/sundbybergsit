<?xml version="1.0" encoding="UTF-8"?>
<!--
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements. See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership. The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License. You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied. See the License for the
* specific language governing permissions and limitations
* under the License.
-->
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="layout/layout.xhtml">

    <ui:param name="headline" value="#{msg['titles.createPersonDataEntry']}"/>

    <ui:define name="content">

        <h:form id="createPersonDataEntry">
            <h:panelGrid columns="3">
                <h:panelGroup>
                    <h:outputText value='Datum:'/>
                </h:panelGroup>
                <h:panelGroup>
                    <p:calendar value="#{fatmanDataHandlerBean.date}" id="popupCal" pattern="yyy-MM-dd"/>
                </h:panelGroup>
                <h:panelGroup/>
                <h:panelGroup>
                    <h:outputText value="#{msg['fields.weight']}"/>
                </h:panelGroup>
                <h:panelGroup>
                    <p:inputMask id="weightInput" value="#{fatmanDataHandlerBean.weightInKilograms}" mask="99.9"/>
                </h:panelGroup>
                <h:panelGroup>
                    <p:message for="weightInput"/>
                </h:panelGroup>
                <h:panelGroup>
                    <h:outputText value="#{msg['fields.fatPercentage']}"/>
                </h:panelGroup>
                <h:panelGroup>
                    <p:inputMask id="fatInput" value="#{fatmanDataHandlerBean.fatPercentage}" mask="99.9"/>
                </h:panelGroup>
                <h:panelGroup>
                    <p:message for="fatInput"/>
                </h:panelGroup>
                <h:panelGroup>
                    <h:outputText value="#{msg['fields.waterPercentage']}"/>
                </h:panelGroup>
                <h:panelGroup>
                    <p:inputMask id="waterInput" value="#{fatmanDataHandlerBean.waterPercentage}" mask="99.9"/>
                </h:panelGroup>
                <h:panelGroup>
                    <p:message for="waterInput"/>
                </h:panelGroup>
                <h:panelGroup>
                    <h:outputText value="#{msg['fields.activityLevel']}"/>
                </h:panelGroup>
                <h:panelGroup>
                    <p:inputMask id="activityInput" value='#{fatmanDataHandlerBean.activityLevel}' mask="9"/>
                </h:panelGroup>
                <h:panelGroup>
                    <p:message for="activityInput" display=""/>
                </h:panelGroup>
            </h:panelGrid>
            <p:commandButton
                    id="createDataButton"
                    value="#{msg['button.create']}"
                    actionListener="#{fatmanDataHandlerBean.create}"
                    ajax="false"
                    update="meterGaugeChart"
                    />
        </h:form>

        <p:chart
                id="meterGaugeChart"
                type="meterGaugeChart"
                responsive="true"
                model="#{fatmanDataHandlerBean.meterGaugeModel}"
                rendered="#{fatmanDataHandlerBean.meterGaugeModel != null}"
                style="width:400px;height:250px"
                />

        <p/>

       <p:link value="#{msg['link.back.startpage']}" outcome="start"/>
    </ui:define>
</ui:composition>